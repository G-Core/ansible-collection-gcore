---
- name: Run tasks locally
  hosts: localhost
  connection: local
  gather_facts: no
  vars_files:
    - ./config.yml

  tasks:
    - name: Preconditions
      import_tasks: ./targets/common_checks.yml
    - name: Run image info tasks
      import_tasks: ./targets/image_info/tasks/main.yml
    - name: Run volume tasks
      import_tasks: ./targets/volume/tasks/main.yml
    - name: Run instance info tasks
      import_tasks: ./targets/instance_info/tasks/main.yml
    - name: Run instance tasks
      import_tasks: ./targets/instance/tasks/main.yml
    - name: Clean up test resources
      import_tasks: ./targets/cleanup.yml
