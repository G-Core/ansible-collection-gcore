- name: Ensure API key is provided
  ansible.builtin.fail:
    msg: API_KEY should be defined in tests/integration/integration_config.yml
  when:
    - API_KEY is not defined
    - API_KEY | length == 0

- name: Ensure project id (name) is provided
  ansible.builtin.fail:
    msg: PROJECT_ID or PROJECT_NAME should be defined in tests/integration/integration_config.yml
  when:
    - PROJECT_ID is not defined and PROJECT_NAME is not defined
    - PROJECT_ID | length == 0 and PROJECT_NAME | length == 0

- name: Ensure region id (name) is provided
  ansible.builtin.fail:
    msg: REGION_ID or REGION_NAME should be defined in tests/integration/integration_config.yml
  when:
    - REGION_ID is not defined and REGION_NAME is not defined
    - REGION_ID | length == 0 and REGION_NAME | length == 0
